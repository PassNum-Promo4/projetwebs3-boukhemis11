<div class="container ">
  <!-- Register form -->
  <form [formGroup]="registerForm" (ngSubmit)="registerUser(registerForm.value)" novalidate autocomplete="off">

      <p class="h5 text-center mt-5">Sign up</p>

    <div class="card-body">

      <div class="form-group" [ngClass]="{'has-error': registerForm.get('firstname').invalid && registerForm.get('firstname').dirty}">
          <div class="md-form">
              <i class="fa fa-user prefix grey-text"></i>
              <input type="text" class="form-control" [formControl]="firstname" id="fname" placeholder="First Name">
          </div>
          <div class="text-danger" *ngIf="registerForm.get('firstname').dirty && registerForm.get('firstname').errors">
              <span class="col-sm-2"></span>
              <span class="col-sm-10" style="padding:4px 0 0" *ngIf="registerForm.get('firstname').errors">
                  Please enter your first name
              </span>
          </div>
      </div>

      <div class="form-group" [ngClass]="{'has-error': registerForm.get('lastname').invalid && registerForm.get('lastname').dirty}">
          <div class="md-form">
              <i class="fa fa-user prefix grey-text"></i>
              <input type="text" class="form-control" [formControl]="lastname" id="lname" placeholder="Last Name">
          </div>
          <div class="text-danger" *ngIf="registerForm.get('lastname').dirty && registerForm.get('lastname').errors">
              <span class="col-sm-2"></span>
              <span class="col-sm-10" style="padding:4px 0 0" *ngIf="registerForm.get('lastname').errors">
                  Please enter your last name
              </span>
          </div>
      </div>
      <div class="form-group" [ngClass]="{'has-error': registerForm.get('email').invalid && registerForm.get('email').dirty}">
          <div class="md-form">
              <i class="fa fa-envelope prefix grey-text"></i>

              <input type="text" class="form-control" [formControl]="email" id="email" placeholder="Email">
          </div>
          <div class="text-danger" *ngIf="registerForm.get('email').dirty && registerForm.get('email').errors">
              <span class="col-sm-2"></span>
              <span class="col-sm-10" style="padding:4px 0 0" *ngIf="registerForm.get('email').invalid">
                  Please enter a valid email
              </span>
          </div>
      </div>
      <div class="form-group" [ngClass]="{'has-error': registerForm.get('username').invalid && registerForm.get('username').dirty}">
          <div class="md-form">
              <i class="fa fa-user prefix grey-text"></i>
              <input type="text" class="form-control" [formControl]="username" id="username" placeholder="Username">
          </div>
          <div class="text-danger" *ngIf="registerForm.get('username').dirty && registerForm.get('username').errors">
              <span class="col-sm-2"></span>
              <span class="col-sm-10" style="padding:4px 0 0" *ngIf="registerForm.get('username').errors">
                  Please enter username
              </span>
              <span class="col-sm-10" style="padding:4px 0 0" *ngIf="registerForm.get('username').errors">
                  Username must be longer than 3 characters.
              </span>
              <span class="col-sm-10" style="padding:4px 0 0" *ngIf="registerForm.get('username').errors">
                  Username cannot be longer than 16 characters.
              </span>
          </div>
      </div>

       <div formGroupName="passwordGroup" [ngClass]="{'has-error': registerForm.get('passwordGroup').errors }">

          <div class="form-group" [ngClass]="{'has-error': registerForm.get('passwordGroup.password').invalid && registerForm.get('passwordGroup.password').dirty}">
              <div class="md-form">
                  <i class="fa fa-lock prefix grey-text"></i>
                  <input type="password" class="form-control" [formControl]="password" id="password" placeholder="Pasword">
              </div>
              <div class="text-danger"  *ngIf="registerForm.get('passwordGroup.password').dirty && registerForm.get('passwordGroup.password').errors">
                  <span class="col-sm-2"></span>
                  <span class="col-sm-10" style="padding:4px 0 0" *ngIf="registerForm.get('passwordGroup.password').errors">
                      Please enter password
                  </span>
                  <span class="col-sm-10" style="padding:4px 0 0" *ngIf="registerForm.get('passwordGroup.password').errors">
                      Password must contain one letter, number & special characters
                  </span>
              </div>

          </div>
          <div class="form-group" [ngClass]="{'has-error': registerForm.get('passwordGroup.retypepass').invalid && registerForm.get('passwordGroup.retypepass').dirty}">
              <div class="md-form">
                  <i class="fa fa-lock prefix grey-text"></i>
                  <input type="password" class="form-control" [formControl]="retypepass" id="retypepass" placeholder="Retype Password">
              </div>
              <div class="text-danger" *ngIf="(registerForm.get('passwordGroup.retypepass').touched || registerForm.get('passwordGroup.retypepass').dirty) && (registerForm.get('passwordGroup.retypepass').errors || registerForm.get('passwordGroup').errors)">
                  <span class="col-sm-2"></span>
                  <span class="col-sm-10" style="padding:4px 0 0" *ngIf="registerForm.get('passwordGroup.retypepass').errors">
                      Please confirm your password
                  </span>
                  <span class="col-sm-10" style="padding:4px 0 0" *ngIf="registerForm.get('passwordGroup').errors">
                      Password do not match
                  </span>
              </div>
          </div>

       </div>

      <div class="form-group">
          <label class="col-sm-2 control-label"></label>
          <div class="col-sm-5">
            <button type="submit" class="btn  default-color" mdbWavesEffect [disabled]="registerForm.invalid">Sign up </button>
          </div>

      </div>
    </div>
  </form>

</div>
